{"ast":null,"code":"var _jsxFileName = \"/Users/alexfalconer/Development/code/auth-project-4/auth-project-4/client/src/components/Gallery.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = \"http://localhost:3001/\";\nexport function Gallery({\n  user,\n  userId\n}) {\n  _s();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const [artworks, setData] = useState([]);\n  const [collection, setCollection] = useState({});\n  const [collectionName, setCollectionName] = useState(\"\");\n\n  const handleChange = e => {\n    if (e.target.name === \"collection-name\") setCollectionName(e.target.value);\n  };\n\n  const fetchData = async () => {\n    const data = await fetch('https://api.artic.edu/api/v1/artworks?limit=50');\n    const artworks = await data.json(); // console.log(artworks.data);\n\n    setData(artworks.data);\n  };\n\n  const createCollection = () => {\n    fetch(api + \"collections\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id: userId,\n        collection_name: input\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setCollection(collection);\n      window.alert(\"Collection started!\"); // history.push(\"/gallery\") \n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Welcome, \", user.name, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Peruse the gallery and click the artworks that pique your interest.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: createCollection,\n      className: \"poem-form\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter name\",\n        value: collectionName,\n        onChange: handleChange,\n        name: \"collection-name\",\n        className: \"poem-input\",\n        type: \"text\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: createCollection,\n      className: \"poem-button\",\n      children: \"Start a New Collection?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), artworks.map(data => /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"artworks\",\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `artworks/${data.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"small\",\n            id: \"image\",\n            src: `https://www.artic.edu/iiif/2/${data.image_id}/full/843,/0/default.jpg`,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 48\n      }, this)\n    }, data.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Gallery, \"pYKRh3VHgXIEpcOrPd6TLM0nVAg=\");\n\n_c = Gallery;\n\nvar _c;\n\n$RefreshReg$(_c, \"Gallery\");","map":{"version":3,"sources":["/Users/alexfalconer/Development/code/auth-project-4/auth-project-4/client/src/components/Gallery.js"],"names":["React","useState","useEffect","Link","api","Gallery","user","userId","fetchData","artworks","setData","collection","setCollection","collectionName","setCollectionName","handleChange","e","target","name","value","data","fetch","json","createCollection","method","headers","body","JSON","stringify","user_id","collection_name","input","then","res","console","log","window","alert","map","id","image_id"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nconst api = \"http://localhost:3001/\"\n\nexport function Gallery({user, userId}) {\n\n  useEffect(() => {\n    fetchData();\n  },[]);\n\n  const [artworks, setData] = useState([]);\n  const [collection, setCollection] = useState({})\n  const [collectionName, setCollectionName] = useState(\"\")\n\n  const handleChange = (e) => {\n    if (e.target.name === \"collection-name\") setCollectionName(e.target.value)\n  }\n\n  const fetchData = async () => {\n    const data = await fetch('https://api.artic.edu/api/v1/artworks?limit=50')\n\n    const artworks = await data.json()\n    // console.log(artworks.data);\n    setData(artworks.data);\n  }\n  \n  const createCollection = () => {\n    fetch(api + \"collections\", {\n        method: 'POST',\n        headers: {\"Content-Type\": \"application/json\"},\n        body: JSON.stringify( {\n            user_id: userId,\n            collection_name: input\n        })\n    }).then((res) => res.json())\n    .then((data) => {\n      console.log(data)\n      setCollection(collection)\n      window.alert(\"Collection started!\")\n      // history.push(\"/gallery\") \n    })\n  }\n\n  return (\n    \n    <div>\n      <h1>Welcome, {user.name}!</h1>\n      <h3>Peruse the gallery and click the artworks that pique your interest.</h3>\n      <form onSubmit={createCollection} className='poem-form'>\n          <input\n            placeholder='Enter name'\n            value={collectionName}\n            onChange={handleChange}\n            name='collection-name'\n            className='poem-input'\n            type=\"text\"\n            required\n          />\n          </form>\n      <button onClick={createCollection} className='poem-button'>Start a New Collection?</button>\n      {artworks.map(data => (\n        <h2 className=\"artworks\" key={data.id}><em>\n          <Link to={`artworks/${data.id}`}>\n          <img className=\"small\" id=\"image\" src={`https://www.artic.edu/iiif/2/${data.image_id}/full/843,/0/default.jpg`} alt=\"\"/>\n          </Link>\n          </em>\n          </h2>\n      ))}\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}